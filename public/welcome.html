<!DOCTYPE html>
<html>

<head>
    <title>B-Hub</title>
    <meta name="viewport" content="width=device-width,  initial-scale=1.0">
    <link rel="stylesheet" href="css/bhub.css" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
    <div id="splash">
        <img style="filter: blur(7px); -webkit-filter: blur(7px);" src="images/b_hub_logo.png" />
    </div>
    <div
        style="width: 100%; height: 100%; position: fixed; background-image: linear-gradient(to bottom, #000000bb, black);">
    </div>
    <div style="width: 100%; overflow: hidden; overflow-y: scroll; margin-bottom: 40px;">
        <h2
            style="position: relative; color: white; top: 30px; margin-left: 20px; margin-right: 47px; font-size: 24px;">
            Welcome to BHub</h2>
        <p
            style="position: relative; margin-top: 50px; margin-left: 20px; margin-right: 50px; font-size: 15px; color: white;">
            Keep on exploring beauty and fitness services </p>
        <p
            style="position: relative; margin-top: 20px; margin-left: 20px; font-weight: 700; font-size: 15px; color: white;">
            What we Offer</p>
        <div id="salon-tile">
            <div
                style="position: absolute; width: 90px; height: 100%; align-items: center; justify-content: center; display: flex; background-color: black;">
                <img style="width: 50px; rotate: -15deg;" src="images/salon2.png" />
            </div>
            <p style="position: absolute; color: white; left: 7rem; font-size: 20px; font-weight: bold;">
                Salon & Spa
            </p>
            <p style="position: absolute; bottom: 10px; left: 7rem; right: 2rem; font-size: 15px; color: white;">
                View your nearest and related salons to satrt ejoying our services</p>
        </div>
        <div id="beauti-tile">
            <div
                style="position: absolute; width: 90px; height: 100%; align-items: center; justify-content: center; display: flex; background-color: black;">
                <img style="width: 55px;" src="images/beauty.png" />
            </div>
            <p style="position: absolute; color: white; left: 7rem; font-size: 20px; font-weight: bold;">
                Beautician
            </p>
            <p style="position: absolute; bottom: 10px; left: 7rem; right: 2rem; font-size: 15px; color: white;">
                Browse BHub to explore your closest and the best beauticians in the area</p>
        </div>
        <div id="gym-tile">
            <div
                style="position: absolute; width: 90px; height: 100%; align-items: center; justify-content: center; display: flex; background-color: black;">
                <img style="width: 60px; rotate: -15deg;" src="images/gym.png" />
            </div>
            <p style="position: absolute; color: white; left: 7rem; font-size: 20px; font-weight: bold;">
                GYM
            </p>
            <p style="position: absolute; bottom: 10px; left: 7rem; right: 2rem; font-size: 15px; color: white;">
                View your nearest and related gyms to satrt ejoying our services</p>
        </div>
        <div id="gym-trainer-tile">
            <div
                style="position: absolute; width: 90px; height: 100%; align-items: center; justify-content: center; display: flex; background-color: black;">
                <img style="width: 50px;" src="images/trainer.png" />
            </div>
            <p style="position: absolute; color: white; left: 7rem; font-size: 20px; font-weight: bold;">
                GYM - Trainer
            </p>
            <p style="position: absolute; bottom: 10px; left: 7rem; right: 2rem; font-size: 15px; color: white;">
                Browse BHub to explore your closest and the best trainers in the area</p>
        </div>
        <div
            style="position: relative; width: 100%; margin-top: 100px; padding-top: 30px; background-color: rgb(19, 19, 19);">
            <li
                style="position: relative; margin-top: 40px; margin-left: 20px; color: white; font-weight: 700; font-size: 20px; list-style-type: none;">
                Links of interest</li>
            <li onclick="openAbout()"
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                About us</li>
            <li onclick="openAPrivacy()"
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Privacy Policy</li>
            <li onclick="openTerms()"
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Terms & Conditions</li>
            <li onclick="openAContact()"
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Contact us</li>
            <li
                style="position: relative; margin-top: 70px; margin-left: 20px; color: white; font-weight: 700; font-size: 20px; list-style-type: none;">
                Follow us</li>
            <li
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Facebook</li>
            <li
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Twitter</li>
            <li
                style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;">
                Instagram</li>
            <li style="position: relative; color: white; font-size: 15px; margin-top: 25px; padding-left: 20px; padding-right: 20px; cursor: pointer;" onclick="openLinkedIn()">Linked In</li>
            <div style="width: 100%; position: relative; margin-top: 30px; display: flex; align-items: center; justify-content: center;">
                <img style="width: 150px; height: 50px;" src="images/App-store-Icon.png" />
                <img style="width: 150px; height: 50px;" src="images/Play-store-Icon.png" />
            </div>
        </div>
        <div id="blank-tile">

        </div>
    </div>
    <div class="fav__page">
        <h2
            style="position: relative; color: white; top: 30px; margin-left: 20px; margin-right: 47px; font-size: 24px;">
            Favorites</h2>
        <p id="all-you-fav-txt">
            All your favorites will shou up here </p>

        <p id="no-fav-txt">
            No favorites for now</p>
        <div id="product-list-view" style="margin-top: 60px;"></div>
    </div>
    <div class="book__page">
        <h2
            style="position: relative; color: white; top: 30px; margin-left: 20px; margin-right: 47px; font-size: 24px;">
            Bookings</h2>
        <p id="dummy-book-txt"
            style="position: relative; margin-top: 70px; margin-left: 20px; margin-right: 50px; text-align: center; font-size: 15px; color: white;">
            All your bookings will show up here </p>

        <p id="dummy-book-txt-no"
            style="position: relative; margin-top: 20px; margin-left: 20px; margin-right: 20px; text-align: center; font-weight: 700; font-size: 15px; color: rgb(94, 92, 92);">
            No bookings for now</p>
        <div id="svc-prod-list-view">

        </div>
        <div style="width: 100%; height: 200px; position: relative;"></div>
    </div>
    <div class="prof__page">
        <h2
            style="position: relative; color: white; top: 30px; margin-left: 20px; margin-right: 47px; font-size: 24px;">
            Profile</h2>

        <div style="position: relative; margin-top: 70px; margin-left: 50px; margin-right: 40px;">
            <img id="prof-pic" src="images/b_hub_logo.png" />
            <span id="prof-name">
                User name</span>
            <p
                style="position: absolute; top: 24px; left: 8rem; font-weight: 700; font-size: 15px; color: rgb(85, 84, 84);">
                BHub-001</p>
            <p
                style="position: absolute; top: 54px; left: 8rem; font-weight: lighter; font-size: 15px; color: rgb(255, 255, 255);">
                Wallet: UGX0.00</p>
        </div>
        <div
            style=" width: 100%; height: 1px; position: relative; margin-top: 30px; background-color: rgb(56, 56, 56);">
        </div>
        <div id="_history">
            <i class="material-icons prof__icon">calendar_month</i>
            <span style="margin-left: 2rem; font-weight: lighter; font-size: 19px; color: rgb(255, 255, 255);">
                Order History</span>
        </div>
        <div id="_wallet">
            <i class="material-icons prof__icon">account_balance_wallet</i>
            <span style="margin-left: 2rem; font-weight: lighter; font-size: 19px; color: rgb(255, 255, 255);">
                My Wallet</span>
        </div>
        <div id="_notifications">
            <i class="material-icons prof__icon">notifications_active</i>
            <span style="margin-left: 2rem; font-weight: lighter; font-size: 19px; color: rgb(255, 255, 255);">
                Notifications</span>
        </div>
        <div id="_support">
            <i class="material-icons prof__icon">support_agent</i>
            <span style="margin-left: 2rem; font-weight: lighter; font-size: 19px; color: rgb(255, 255, 255);">
                Support</span>
        </div>
        <div
            style="position: relative; margin-top: 50px; margin-left: 20px; margin-right: 20px; align-items: center; justify-content: center; display: flex;">
            <span style="font-weight: bold; font-size: 19px; color: rgb(255, 255, 255);">
                BHub</span>
        </div>
        <div
            style="position: relative; margin-top: 5px; margin-left: 20px; margin-right: 20px; align-items: center; justify-content: center; display: flex;">
            <span style="font-weight: lighter; font-size: 13px; color: rgb(255, 255, 255);">
                ver 1.0.2024</span>
        </div>
        <dialog id="alert-dialog">
            <div style="height: 100%;">
                <li style="position: relative; list-style-type: none; font-size: 17px; font-weight: 700;">Alert!</li>
                <li id="dlg-text">Are you sure you want to logout?</li>
                <div
                    style="position: relative; margin-top: 20px; align-items: end; justify-content: end; display: flex;">
                    <li id="dialog-no-btn" onclick="closeDlg()">NO</li>
                    <li id="dialog-yes-btn" onclick="logout()">YES</li>
                </div>
            </div>
        </dialog>
        <span id="logout-btn">
            Logout</span>
        <div style="width: 100%; height: 200px;"></div>
    </div>
    <div class="opt__page">
        <div id="header-view">
            <h2
                style="position: relative; color: gold; text-align: center; margin-left: 20px; margin-right: 20px; font-size: 24px;">
                BHub</h2>
            <div
                style="position: relative; height: 50px; margin-left: 10px; margin-right: 10px; margin-bottom: 20px; align-items: start; justify-content: left; display: flex; color: white; border: 1px solid darkgray; border-radius: 4px; background-color: rgb(26, 25, 25);">
                <span id="search-icon" class="material-symbols-outlined">search</span>
                <input type="text"
                    style="width: 100%; height: 50px; padding-left: 3.3rem; font-family: 'Lexend', sans-serif; background-color: transparent; border: 0px solid transparent; font-size: 20px; color: white;"
                    placeholder="Find a salon or beautician ..." />
            </div>
            <span id="close-opt-btn" class="material-symbols-outlined">close</span>
        </div>
        <div
            style="width: 100%; overflow: hidden; overflow-y: scroll; margin-top: 9rem; margin-bottom: 40px; background-color: black;">
            <div
                style="position: relative; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(8, 129, 209); display: flex; border-radius: 4px;"
                    onclick="openSalon()">Body Hair</span>
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-left: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(168, 41, 3); display: flex; border-radius: 4px;"
                    onclick="openSalon()">Beard</span>
            </div>
            <div
                style="position: relative; margin-top: 20px; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(209, 8, 68); display: flex; border-radius: 4px;"
                    onclick="openSalon()">Hands & Feet</span>
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-left: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(223, 48, 4); display: flex; border-radius: 4px;"
                    onclick="openSalon()">Hair</span>
            </div>
            <div
                style="position: relative; margin-top: 20px; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: orange; display: flex; border-radius: 4px;"
                    onclick="openSalon()">Face Care</span>
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-left: 10px; align-items: center; justify-content: center; color: white; background-color: purple; display: flex; border-radius: 4px;"
                    onclick="openSalon()">Massage</span>
            </div>
        </div>
    </div>
    <div class="opt_gym_page">
        <div id="header-view">
            <h2
                style="position: relative; color: gold; text-align: center; margin-left: 20px; margin-right: 20px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 24px;">
                BHub</h2>
            <div
                style="position: relative; height: 50px; margin-left: 10px; margin-right: 10px; margin-bottom: 20px; align-items: start; justify-content: left; display: flex; color: white; border: 1px solid darkgray; border-radius: 4px; background-color: rgb(26, 25, 25);">
                <span id="search-icon" class="material-symbols-outlined">search</span>
                <input type="text"
                    style="width: 100%; height: 50px; padding-left: 3.3rem; background-color: transparent; border: 0px solid transparent; font-size: 20px; color: white;"
                    placeholder="Find gym or trainer ..." />
            </div>
            <span id="close-opt-gym-btn" class="material-symbols-outlined">close</span>
        </div>
        <div
            style="width: 100%; overflow: hidden; overflow-y: scroll; margin-top: 9rem; margin-bottom: 40px; background-color: black;">
            <div
                style="position: relative; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(8, 129, 209); display: flex; border-radius: 4px;"
                    onclick="openGym()">Yoga</span>
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-left: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(168, 41, 3); display: flex; border-radius: 4px;"
                    onclick="openGym()">Spin</span>
            </div>
            <div
                style="position: relative; margin-top: 20px; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(209, 8, 68); display: flex; border-radius: 4px;"
                    onclick="openGym()">Zumba</span>
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-left: 10px; align-items: center; justify-content: center; color: white; background-color: rgb(223, 48, 4); display: flex; border-radius: 4px;"
                    onclick="openGym()">Circuit</span>
            </div>
            <div
                style="position: relative; margin-top: 20px; margin-left: 10px; margin-right: 10px; display: grid; grid-template-columns: repeat(2, 1fr);">
                <span
                    style="height: 150px; font-weight: bold; font-size: 20px; margin-right: 10px; align-items: center; justify-content: center; color: white; background-color: orange; display: flex; border-radius: 4px;"
                    onclick="openGym()">MX4</span>
            </div>
        </div>
    </div>
    <nav class="nav">
        <a href="#" class="nav__link__home nav__link--active">
            <i class="material-icons nav__icon">home</i>
            <span class="nav__text" style="font-family: 'Lexend' sans-serif;">BHub</span>
        </a>
        <a href="#" class="nav__link__fav">
            <i class="material-icons nav__icon">favorite</i>
            <span class="nav__text" style="font-family: 'Lexend' sans-serif;">Favorites</span>
        </a>
        <a href="#" class="nav__link__book">
            <i class="material-icons nav__icon">calendar_month</i>
            <span class="nav__text" style="font-family: 'Lexend' sans-serif;">Bookings</span>
        </a>
        <a href="#" class="nav__link__prof">
            <i class="material-icons nav__icon">person</i>
            <span class="nav__text" style="font-family: 'Lexend' sans-serif;">Profile</span>
        </a>
    </nav>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/index.js"></script>
    <script src="js/favpage.js"></script>
    <script src="js/bookpage.js"></script>
    <script>
        let db = firebase.firestore();
        let userId = "";
        let alertDlg = document.getElementById('alert-dialog');
        let body = document.querySelector('body');
        let home = document.querySelector('.nav__link__home');
        let fav = document.querySelector('.nav__link__fav');
        let book = document.querySelector('.nav__link__book');
        let prof = document.querySelector('.nav__link__prof');

        // pages
        let favPage = document.querySelector('.fav__page');
        let bookPage = document.querySelector('.book__page');
        let profPage = document.querySelector('.prof__page');
        let optPage = document.querySelector('.opt__page');
        let optGymPage = document.querySelector('.opt_gym_page');

        function openAbout() {
            open("aboutus.html");
        }

        function openAPrivacy() {
            open("privacy.html");
        }

        function openTerms() {
            open("terms.html");
        }

        function openAContact() {
            open("contactus.html");
        }

        function openLinkedIn() {
            open("https://www.linkedin.com/company/bhubapp/");
        }

        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                userId = user.uid;
                getUserInfo(userId);
            }
        });

        function getUserInfo(uid) {
            db.collection("BHub").doc(uid).get().then(function (it) {
                if (it.data() != null && it.data().name != null) {
                    document.getElementById('prof-name').innerHTML = it.data().fName;
                    if (it.data().profilePic != null) {
                        document.getElementById('prof-pic').src = it.data().profilePic;
                    }
                }
            });
        }

        $('#_history').click(function () {
            open('history.html');
        });

        $('#_notifications').click(function () {
            open('notifications.html');
        });

        // $('#_support').click(function () {
        //     open("support.html");
        // });

        document.getElementById('_wallet').addEventListener('click', function () {
            open("userwallet.html");
        })

        document.getElementById('salon-tile').addEventListener('click', (e) => {
            localStorage.setItem("salon_opt", "salon");
            optPage.style.display = "block";
        });

        document.getElementById('beauti-tile').addEventListener('click', (e) => {
            localStorage.setItem("salon_opt", "beauty");
            optPage.style.display = "block";
        });

        document.getElementById('gym-tile').addEventListener('click', (e) => {
            localStorage.setItem("gym_opt", "gym");
            optGymPage.style.display = "block";
        });

        document.getElementById('gym-trainer-tile').addEventListener('click', (e) => {
            localStorage.setItem("gym_opt", "trainer");
            optGymPage.style.display = "block";
        });

        const openSalon = () => {
            let opt = localStorage.getItem("salon_opt");
            if (opt === "salon") {
                window.open("salons.html", "_self");
            } else if (opt === "beauty") {
                window.open("beauticians.html", "_self");
            }
        }

        const openGym = () => {
            let opt = localStorage.getItem("gym_opt");
            if (opt === "gym") {
                window.open("gyms.html", "_self");
            } else if (opt === "trainer") {
                window.open("trainers.html", "_self");
            }
        }

        home.addEventListener('click', (e) => {
            home.classList.add('nav__link--active');
            fav.classList.remove('nav__link--active');
            book.classList.remove('nav__link--active');
            prof.classList.remove('nav__link--active');

            favPage.style.display = "none";
            bookPage.style.display = "none";
            profPage.style.display = "none";
            optPage.style.display = "none";
            optGymPage.style.display = "none";
        });

        fav.addEventListener('click', (e) => {
            home.classList.remove('nav__link--active');
            fav.classList.add('nav__link--active');
            book.classList.remove('nav__link--active');
            prof.classList.remove('nav__link--active');

            favPage.style.display = "block";
            bookPage.style.display = "none";
            profPage.style.display = "none";
            optPage.style.display = "none";
            optGymPage.style.display = "none";
        });

        book.addEventListener('click', (e) => {
            home.classList.remove('nav__link--active');
            fav.classList.remove('nav__link--active');
            book.classList.add('nav__link--active');
            prof.classList.remove('nav__link--active');

            favPage.style.display = "none";
            bookPage.style.display = "block";
            profPage.style.display = "none";
            optPage.style.display = "none";
            optGymPage.style.display = "none";
        });

        prof.addEventListener('click', (e) => {
            home.classList.remove('nav__link--active');
            fav.classList.remove('nav__link--active');
            book.classList.remove('nav__link--active');
            prof.classList.add('nav__link--active');

            favPage.style.display = "none";
            bookPage.style.display = "none";
            profPage.style.display = "block";
            optPage.style.display = "none";
            optGymPage.style.display = "none";
        });

        document.getElementById('prof-pic').addEventListener('click', (e) => {
            window.open("bookinginfo.html");
        });

        document.getElementById('logout-btn').addEventListener('click', (e) => {
            console.log("clicked");
            alertDlg.showModal();
        });

        document.getElementById('close-opt-btn').addEventListener('click', (e) => {
            optPage.style.display = "none";
        });

        document.getElementById('close-opt-gym-btn').addEventListener('click', (e) => {
            optGymPage.style.display = "none";
        });

        function logout() {
            firebase.auth().signOut().then(function () {
                window.open("index.html", "_self");
            }, function (error) {
                console.log("Something went wrong!");
            });
        }

        function closeDlg() {
            alertDlg.close();
        }
    </script>
</body>

</html>